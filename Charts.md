Пытаемся вспомнить графики :)...

Итак, у нас есть две формы и соответственно два типа графиков : зависимость параметров от длины и от времени. Форма Charts может отображать нестационарные результаты с помощью трэкбара, а ChartT (Time Charts) собственно для этого и предназначена.

Результаты могут относиться как к сегментам , так и к веткам. К примеру, **DisplayResultStr** содержит две скорости, последняя из которых именно для ветки. Условный разделитель результатов  - RESULTNUM, за ним следуют результаты нестационарного расчета для ветки в целом - например, изменение топливного уровня в баке.

Кроме всего прочего существует комплексная диаграмма, на которой можно увидеть изменение параметров для нескольких веток одновременно. Алгоритм ее построения таков (Д-версия):
  1. запускается цикл по всем видимым веткам (далее предполагаем, что находимся внутри цикла)
  1. рассчитывается общая длина ветки, равная сумме длин всех сегментов
  1. с помощью нижних индексов осуществляется переход (внутренний цикл While j...) по веткам снизу вверх вплоть до главной для определения начала отсчета конкретной ветки. При этом учитывается направление потока.
  1. для расходных веток, которые откладываются в обратную сторону,  вычисляется отрицательное смещение Delta и его минимальное значение minDelta
  1. основной цикл закончен. После чего происходит корректировка стартовых позиций графиков (веток) на величину |MinDelta| для предотвращения появления отрицательных значений по оси длин.

Продолжение следует... :)